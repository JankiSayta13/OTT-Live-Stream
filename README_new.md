
# üöÄ Local HTTPS Setup Guide with mkcert

This guide will help you set up **trusted local HTTPS certificates** using [`mkcert`](https://github.com/FiloSottile/mkcert) so you can serve your project locally over HTTPS.

This is useful when:
- You want to test HTTPS locally.
- You are working with APIs or browsers that require secure contexts.
- You want to match the production environment more closely.

---

## üñ•Ô∏è Prerequisites

‚úÖ Windows OS  
‚úÖ PowerShell (Run as **Administrator**)  
‚úÖ Internet connection  

---

## ‚öôÔ∏è Steps

### 1Ô∏è‚É£ Install Chocolatey

[Chocolatey](https://chocolatey.org/) is a package manager for Windows.

> If you already have Chocolatey installed, you can skip this step.

üëâ Open **Administrator PowerShell** and run the following command:

```powershell
Set-ExecutionPolicy Bypass -Scope Process -Force; `
[System.Net.ServicePointManager]::SecurityProtocol = `
[System.Net.ServicePointManager]::SecurityProtocol -bor 3072; `
iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))
```

---

### 2Ô∏è‚É£ Install mkcert

üëâ After installing Chocolatey, run the following command in the same PowerShell window:

```powershell
choco install mkcert
```

---

### 3Ô∏è‚É£ Install local Certificate Authority (CA)

üëâ Run the following command to install the local CA:

```powershell
mkcert -install
```

‚úÖ You should see the message:

```
The local CA is now installed in the system trust store!
```

**What does this do?**

- mkcert will create a **local CA** (Certificate Authority) and install it to your trusted root certificates.
- Certificates generated by mkcert will now be trusted in your browsers.

---

### 4Ô∏è‚É£ Generate Local HTTPS Certificate

üëâ Now navigate to your project directory.

Example:

```powershell
cd D:\Hackathon\live-spark-ai-stream
```

üëâ Then run the following command:

```powershell
mkcert localhost 127.0.0.1 192.168.X.X YOUR-PC-NAME.local
```

Replace the placeholders:
- `192.168.X.X` ‚Üí Your local IP address (e.g. `192.168.1.100` ‚Äî run `ipconfig` to find it).
- `YOUR-PC-NAME.local` ‚Üí Your computer name. Example: `MyLaptop.local`.

You can also run the following command to find your PC name:

```powershell
hostname
```

---

### 5Ô∏è‚É£ Resulting Files

After running `mkcert`, you will get:

- `localhost+4.pem` ‚Üí SSL certificate file  
- `localhost+4-key.pem` ‚Üí SSL certificate key file  

These files should be kept in your project root or a dedicated `cert` folder.

---

### 6Ô∏è‚É£ Configure Vite to Use HTTPS Certificate

üëâ Edit your `vite.config.js` or `vite.config.ts` file and add the following configuration inside `server`:

```javascript
import fs from 'fs';

export default {
  server: {
    https: {
      key: fs.readFileSync('./localhost+4-key.pem'),
      cert: fs.readFileSync('./localhost+4.pem'),
    },
    host: '0.0.0.0', // Optional: To allow LAN devices to connect
  },
};
```

---

### 7Ô∏è‚É£ Run Your Project

üëâ Finally, run your project in development mode:

```powershell
npm run dev
```

Your project will now be served locally over **https://localhost:[port]**.

---

## ‚úÖ Summary of Benefits

- You will have **trusted HTTPS** running locally.
- No more browser warnings ("Not Secure").
- Easy to match your local environment with production.

---

## ‚ùó Notes

- The certificates generated by `mkcert` should not be used in production.
- If you regenerate certificates, make sure to update your `vite.config.js` if paths change.
- You can delete or recreate the certificates anytime.

---

## Troubleshooting

### Q: My browser still says "Not secure" or shows a warning?

üëâ Try:
- Closing and reopening the browser.
- Clearing cached certificates (rare cases).
- Re-running `mkcert -install`.

---

Now your team members can follow this guide step-by-step and set up trusted HTTPS locally on their systems üéâ.


